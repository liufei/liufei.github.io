{"componentChunkName":"component---src-templates-blog-post-js","path":"/vagrant-connection-timeout/","result":{"data":{"site":{"siteMetadata":{"title":"Fei"}},"markdownRemark":{"id":"a9432f57-0631-5027-81a7-939e07718008","excerpt":"在强行关闭 Vagrant 后，会造成下次启动时连接超时，始终提示信息，通过启用 GUI 发现此时已进入系统登录窗口。 多方查证，这算是一个 Ubuntu Cloud Image 的 Bug。在 Vagrant 的 issues 3860 中有这样一个反馈，Issues with virtualbox…","html":"<p>在强行关闭 Vagrant 后，会造成下次启动时连接超时，始终提示<code class=\"language-text\">default: Warning: Connection timeout. Retrying...</code>信息，通过启用 GUI 发现此时已进入系统登录窗口。</p>\n<p>多方查证，这算是一个 Ubuntu Cloud Image 的 Bug。在 Vagrant 的 issues 3860 中有这样一个反馈，<a href=\"https://github.com/mitchellh/vagrant/issues/3860\">Issues with virtualbox provisioner private_network mode in cloud ubuntu 14.04 box</a>。其中 Ramblurr 提到一种解决方案，使用 VirtualBox GUI 方式登录系统，以管理员权限编辑<code class=\"language-text\">/etc/networking/interfaces</code>文件，使其仅存在一个<code class=\"language-text\">ethX interfaces</code>。</p>\n<p>实际测试，Ubuntu 14.04.3 LTS 下正确的文件路径是<code class=\"language-text\">/etc/network/interfaces</code>，而非<code class=\"language-text\">/etc/networking/interfaces</code>。Private Network 方式下修正后的配置文件如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># This file describes the network interfaces available on your system</span>\n<span class=\"token comment\"># and how to activate them. For more information, see interfaces(5).</span>\n\n<span class=\"token comment\"># The loopback network interface</span>\nauto lo\niface lo inet loopback\n\n<span class=\"token comment\"># Source interfaces</span>\n<span class=\"token comment\"># Please check /etc/network/interfaces.d before changing this file</span>\n<span class=\"token comment\"># as interfaces may have been defined in /etc/network/interfaces.d</span>\n<span class=\"token comment\"># NOTE: the primary ethernet device is defined in</span>\n<span class=\"token comment\"># /etc/network/interfaces.d/eth0</span>\n<span class=\"token comment\"># See LP: #1262951</span>\n<span class=\"token builtin class-name\">source</span> /etc/network/interfaces.d/*.cfg\n\n<span class=\"token comment\">#VAGRANT-BEGIN</span>\n<span class=\"token comment\"># The contents below are automatically generated by Vagrant. Do not modify.</span>\nauto eth1\niface eth1 inet static\n      address <span class=\"token number\">192.168</span>.168.168\n      netmask <span class=\"token number\">255.255</span>.255.0\n<span class=\"token comment\">#VAGRANT-END</span></code></pre></div>","frontmatter":{"title":"Vagrant连接超时","date":"2015-09-14","description":"Vagrant 连接超时怎么办？"}}},"pageContext":{"slug":"/vagrant-connection-timeout/","previous":{"fields":{"slug":"/vagrant-nodejs-slow/"},"frontmatter":{"title":"Vagrant下Node.js程序缓慢问题"}},"next":{"fields":{"slug":"/javascript-apply-bind/"},"frontmatter":{"title":"JavaScript中apply和bind的关系"}}}},"staticQueryHashes":["2841359383","4265873673"]}